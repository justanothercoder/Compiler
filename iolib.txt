struct InputStream
{
	int fd;

	def InputStream() {
		fd = 0;
	}

	def open(const string& filename) {
		fd = __fopen(filename, 438, 0);
	}

	def read(int len) : string  {
		string tmp = ""
		__fread(fd, tmp, len)
		return tmp
	}

	def close() {
		__fclose(fd);
	}
}

struct OutputStream
{
	int fd;

	def OutputStream() {
		fd = 1;
	}

	def open(const string& filename) {
		fd = __fopen(filename, 438, 1);
	}

	def write(const string& text) {
		__fwrite(fd, text, text.length())
	}

	def close() {
		__fclose(fd);
	}
}



struct BufferedInputStream
{
	InputStream istream;
	string buffer;

	def BufferedInputStream() {
		istream.fd = 0
	}

	def open(const string& filename) {
		istream.open(filename)
	}

	def readLine() : string {
		__fread(istream.fd, buffer, 256)
		
		return buffer
	}

	def close() {
		istream.close()
	}
}

